// Generated by CoffeeScript 1.9.3
(function() {
  var Subset, r;

  r = require('restructure');

  Subset = (function() {
    function Subset(font) {
      this.font = font;
      this.glyphs = [];
      this.mapping = {};
      this.includeGlyph(0);
    }

    Subset.prototype.includeGlyph = function(glyph) {
      if (typeof glyph === 'object') {
        glyph = glyph.id;
      }
      if (this.mapping[glyph] == null) {
        this.glyphs.push(glyph);
        this.mapping[glyph] = this.glyphs.length - 1;
      }
      return this.mapping[glyph];
    };

    Subset.prototype.encodeStream = function() {
      var s;
      s = new r.EncodeStream;
      process.nextTick((function(_this) {
        return function() {
          _this.encode(s);
          return s.end();
        };
      })(this));
      return s;
    };

    return Subset;

  })();

  module.exports = Subset;

}).call(this);
